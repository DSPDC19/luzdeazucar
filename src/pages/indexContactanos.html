<!DOCTYPE html>
<html>
<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Contactanos</title>
    <link rel="stylesheet" href="./css/style_contactanos.css">
</head>
    <header>
        <!--Primera parte de la barra de navegacion -->
        <div class="top-nav">
            <!--Location links-->
            <div class="location-nav"> 
                <img src="./img/Location.png" alt="LocationIcon" id="LocationIcon">
                <a href="https://mapcarta.com/es/W153866620#:~:text=Universidad%20Apec%20es%20una%20universidad%20en%20Santo%20Domingo,%28DNCD%29%2C%20as%C3%AD%20como%20de%20Hotel%20Barcel%C3%B3%20Santo%20Domingo." id="locationLink">Santo Domingo <br> Av. Maximo Gomez Esq. Mexico</a>
            </div>

            <!--logo-->
            <div class="logo-nav">
                <img src="./img/LogoIcon .jpg" alt="LogoIcon" id="logo-nav">
            </div>
            
            <!--Boton correo-->
            <div class="correo-nav">
                <button type="button" class="button-correo">
                    <svg xmlns="http://www.w3.org/2000/svg" height="20px" viewBox="0 -960 960 960" width="20px" fill="#currentColor">
                        <path d="M146.67-160q-27 0-46.84-19.83Q80-199.67 80-226.67v-506.66q0-27 19.83-46.84Q119.67-800 146.67-800h666.66q27 0 46.84 19.83Q880-760.33 880-733.33v506.66q0 27-19.83 46.84Q840.33-160 813.33-160H146.67ZM480-454.67 146.67-670v443.33h666.66V-670L480-454.67Zm0-66.66 330.67-212H150l330 212ZM146.67-670v-63.33V-226.67-670Z"/>
                    </svg> 
                    ESCRIBENOS
                </button>
            </div>
        </div>
        <hr class="linea">
        
        <!--Opciones de navegacion -->
        <nav class="main-nav">
            <ul class="nav-link">
                <li><a href="/">INICIO</a></li>
                <li><a href="/Menu">RINCÓN DE AZÚCAR</a></li>
                <li><a href="/SobreNosotros">SOBRE NOSOTROS</a></li>
                <li><a href="/Contactanos" \ class="active">CONTACTANOS</a></li>
            </ul>
           
            <div class="nav-icon">
                <a href="/Compra"><img src="./img/CarIcon.png" alt="CarIcon"></a>
            </div>
        </nav>
    </header>
<body>
    <section class="banner-contactanos">
            <article>
                <h1>CONTACTANOS</h1>
                <div class="divider"></div>
                <p>Te escuchamos</p>
                <div class="flex container-redes">
                    <a href="https://facebook.com" target="_blank"><img src="./img/square-facebook-brands.svg" class="img-apps"></a>
                    <a href="https://instagram.com" target="_blank"><img src="./img/square-instagram-brands.svg" class="img-apps"></a>
                </div>
            </article>
    </section>
    <section class="flex section-center section-enviar">
        <article>
            <h1>ENVÍANOS TU<br>MENSAJE</h1>
        </article>
        <div class="dividir-Env"></div>
        <article class="article-letra">
            <p>Estamos disponibles 24/7 por redes sociales, correo electrónico o por teléfono.</p>
            <p>Rellena el formulario de contacto y atenderemos lo antes posible tu consulta o sugerencia.</p>
        </article>
    </section>

    <section class="flex section-center ">
        <article class="article-form">
          <form id="formulario" action="/enviar-correo" method="POST">
  <div class="form-group">
    <label for="nombre">NOMBRE COMPLETO</label>
    <input type="text" id="nombre" name="nombre" required>
  </div>
  <div class="form-group">
    <label for="email">E-MAIL</label>
    <input type="email" id="email" name="email" required>
  </div>
  <div class="form-group">
    <label for="telefono">TELÉFONO</label>
    <input type="tel" id="telefono" name="telefono" required>
  </div>
  <div class="form-group">
    <label for="asunto">ASUNTO</label>
    <input type="text" id="asunto" name="asunto" required>
  </div>
  <div class="form-group full">
    <label for="mensaje">MENSAJE</label>
    <textarea id="mensaje" name="mensaje" required></textarea>
  </div>
  <button class="btn-enviar" type="submit">ENVIAR MENSAJE</button>
  <div id="mensaje-estado" style="margin-top: 10px; font-weight: bold;"></div>
</form>

        </article>
        <article class="article-info">
            <div class="div-con">
                <div class="flex">
                    <div class="div-verde">
                        <img src="./img/phone-solid.svg" alt="phone" class="img-apps">
                        <h3>Telefono</h3>
                        <p>(809) 546-5663</p>
                        <p>(809) 874-2345</p>
                    </div>
                    <div class="div-verde">
                        <img src="./img/envelope-solid.svg" alt="email" class="img-apps">
                        <h3>Correo</h3>
                        <p>(809) 546-5663</p>
                        <p>(809) 874-2345</p>
                    </div>
                </div>
                <div class="flex">
                    <div class="div-verde">
                        <img src="./img/store-solid.svg" alt="store" class="img-apps">
                        <h3>Tienda</h3>
                        <p>Av. Máximo Gómez 72, Santo Domingo 10100</p>
                    </div>
                    <div class="div-verde">
                        <img src="./img/calendar-days-solid.svg" alt="calendar" class="img-apps">
                        <h3>Horario</h3>
                        <p>Lunes-Viernes: 9:00AM-5:00PM</p>
                        <p>Sabado: 9:00AM-12:00PM</p>
                    </div>
                </div>
            </div>

            <div class="div-visitanos">
                <h1>VISÍTANOS</h1>
                <div class="underline"></div>
                <div class="div-space">
                <iframe
                src="https://www.google.com/maps/embed?pb=!1m18!1m12!1m3!1d31830.03036907491!2d-70.70341562308599!3d19.479196983174557!2m3!1f0!2f0!3f0!3m2!1i1024!2i768!4f13.1!3m3!1m2!1s0x8eb1cf5cd8240bbf%3A0xb699db25bd8376ff!2sRep%C3%BAblica%20Dominicana!5e0!3m2!1ses!2sdo!4v1685567890123!5m2!1ses!2sdo"
                width="90%"
                height="400px"
                style="border:0;"
                allowfullscreen=""
                loading="lazy"
                referrerpolicy="no-referrer-when-downgrade">
            </iframe>
            </div>
            </div>
        </article>
    </section>

</body>
    <footer class="footer">
        <p>© 2025, Designed By Grupo No1</p>
    </footer>

</html>

<script>
  document.getElementById("formulario").addEventListener("submit", async function (e) {
    e.preventDefault();

    const datos = {
      nombre: document.getElementById("nombre").value.trim(),
      email: document.getElementById("email").value.trim(),
      telefono: document.getElementById("telefono").value.trim(),
      asunto: document.getElementById("asunto").value.trim(),
      mensaje: document.getElementById("mensaje").value.trim(),
    };

    const mensajeEstado = document.getElementById("mensaje-estado");
    mensajeEstado.style.color = "#000";

    try {
      const respuesta = await fetch("/enviar-correo", {
        method: "POST",
        headers: {
          "Content-Type": "application/json"
        },
        body: JSON.stringify(datos)
      });

      const resultado = await respuesta.json();

      if (resultado.estado === "exito") {
        mensajeEstado.style.color = "green";
        this.reset(); // limpia el formulario al enviar correctamente
      } else {
        mensajeEstado.style.color = "red";
      }

      mensajeEstado.textContent = resultado.mensaje;
    } catch (err) {
      mensajeEstado.style.color = "red";
      mensajeEstado.textContent = "Error al procesar el formulario.";
    }
  });
</script>